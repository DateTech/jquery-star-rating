(function(a){a.fn.rating=function(b,c){c=c||function(){};if(typeof b==="function"){c=b}b=b||{};b.callback=c;this.each(function(f,d){var e=a.extend({},defaults,b);a(d).data("rating",e).unbind("init.rating").bind("init.rating",a.fn.rating.init).trigger("init.rating")})};a.extend(a.fn.rating,{init:function(g){var c=a(this),f="",h=null,d=c.children();for(var b=0;b<d.length;b++){f=f+'<a class="star" title="'+a(d[b]).val()+'" />';if(a(d[b]).is(":checked")){h=a(d[b]).val()}}d.hide();c.append('<div class="stars">'+f+"</div>").unbind("set.rating").bind("set.rating",a.fn.rating.set).trigger("set.rating",h);a("a",c).live("click",function(i){a(this).unbind("click.rating").bind("click.rating",a.fn.rating.click).trigger("click.rating")})},set:function(d,f){var c=a(this);if(f){c.find("a").removeClass("fullStar");var b=a("a",c).filter(function(e){if(a(this).attr("title")==f){return a(this)}else{return false}});b.addClass("fullStar").prevAll().addClass("fullStar")}c.unbind("hover.rating").bind("hover.rating",a.fn.rating.hover).trigger("hover.rating",f);return},hover:function(f,c){var d=a(this),b=a("a",d);b.live("mouseenter",function(g){a(this).addClass("tmp_fs").prevAll().addClass("tmp_fs");a(this).nextAll().addClass("tmp_es")});b.live("mouseleave",function(g){a(this).removeClass("tmp_fs").prevAll().removeClass("tmp_fs");a(this).nextAll().removeClass("tmp_es")})},click:function(f){f.preventDefault();var d=a(f.target),b=a(f.target).parent().parent().children("input"),c=d.attr("title");matchInput=b.filter(function(e){if(a(this).val()==d.attr("title")){return true}else{return false}});matchInput.attr("checked",true);d.parent().parent().trigger("set.rating",matchInput.val()).data("rating").callback(c,f)}});defaults={}})(jQuery);